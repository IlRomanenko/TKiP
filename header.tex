\usepackage[a4paper,left=20mm,right=10mm,top=20mm,bottom=20mm]{geometry}

\usepackage{amsgen, amsmath, amstext, amsbsy, amsopn, amsfonts, amsthm, thmtools,  amssymb, amscd, mathtext, mathtools}
\usepackage{versions}

\usepackage{float}
\restylefloat{table}

\usepackage{xfrac}

% Explain
\newcommand{\expl}[2]{\underset{\mathclap{\overset{\uparrow}{#2}}}{#1}}
\newcommand{\explup}[2]{\overset{\mathclap{\underset{\downarrow}{#2}}}{#1}}
\newcommand{\obrace}[2]{\overbrace{#1}^{#2}}
\newcommand{\ubrace}[2]{\underbrace{#1}_{#2}}

% Arrows
\newcommand{\Then}{\Rightarrow}
\newcommand{\Iff}{\Leftrightarrow}
\newcommand{\When}{\Leftarrow}
\newcommand{\Bydef}{\rightleftharpoons}
%\newcommand{\Divby}{\raisebox{-2pt}{\vdots}}
\DeclareRobustCommand{\Divby}{%
  \mathrel{\text{\vbox{\baselineskip.65ex\lineskiplimit0pt\hbox{.}\hbox{.}\hbox{.}}}}%
}

\DeclareMathOperator{\Char}{char}
\DeclareMathOperator{\Ker}{Ker}
\DeclareMathOperator{\Quot}{Quot}
\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\Aut}{Aut}

% Mathbbs
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Zp}{\Z_p}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\renewcommand{\C}{\mathbb{C}}
\newcommand{\F}{\mathbb{F}}

\renewcommand{\~}{\sim}
\renewcommand{\phi}{\varphi}
\newcommand{\ol}{\overline}
\newcommand{\Have}{\hookrightarrow}

\usepackage{pifont}
\newcommand{\cmark}{\ding{51}}
\newcommand{\xmark}{\ding{55}}
\newcommand{\y}{\cmark}
\newcommand{\x}{\xmark}

% Кавычки
\usepackage{xspace}
\newcommand{\lgq}{\guillemotleft\nobreak\ignorespaces}
\newcommand{\rgq}{\guillemotright\xspace}

% Consider changing to sfrac
\newcommand{\bigslant}[2]{{\raisebox{.2em}{$#1$}\left/\raisebox{-.2em}{$#2$}\right.}}

\makeatletter
\newenvironment{sqcases}{%
  \matrix@check\sqcases\env@sqcases
}{%
  \endarray\right.%
}
\def\env@sqcases{%
  \let\@ifnextchar\new@ifnextchar
  \left\lbrack
  \def\arraystretch{1.2}%
  \array{@{}l@{\quad}l@{}}%
}
\makeatother

\makeatletter
\newenvironment{nocases}{%
  \matrix@check\sqcases\env@sqcases
}{%
  \endarray\right.%
}
\def\env@nocases{%
  \let\@ifnextchar\new@ifnextchar
  \def\arraystretch{1.2}%
  \array{@{}l@{\quad}l@{}}%
}
\makeatother

\newcommand{\nopandoc}[1]{#1} % hide LaTeX code from pandoc
\nopandoc{
	\let\Begin\begin
	\let\End\end
}


% Styles
\declaretheoremstyle[notefont=\bfseries,notebraces={}{},headpunct={},%
postheadspace={5px},headformat={\makebox[0pt][r]{\NAME\ \NUMBER\ }\setbox0\hbox{\ }\hspace{-\the\wd0}\NOTE}]{problemstyle}
\declaretheorem[style=problemstyle,numbered=no,name=№]{problem}

\declaretheoremstyle[notefont=\bfseries,notebraces={}{},headpunct={ },postheadspace={0px},qed=$\blacktriangleleft$,
headformat={\makebox[0pt][r]{\NAME\ }\setbox0\hbox{\ }\hspace{-\the\wd0}\NOTE},]{solutionstyle}
\declaretheorem[style=solutionstyle,numbered=no,name=$\blacktriangleright$]{solution}

\declaretheoremstyle[notefont=\bfseries,notebraces={}{},headpunct={.},postheadspace={4px}]{definitionstyle}
\declaretheorem[style=definitionstyle,numbered=yes,name=Опр.]{defn}

\usepackage{enumitem}
\setlist[itemize]{leftmargin=*}
\setlist[enumerate]{leftmargin=*}

% Strikeout
\usepackage[normalem]{ulem}
\newcommand{\s}[1]{\ifmmode\text{\sout{\ensuremath{#1}}}\else\sout{#1}\fi}
